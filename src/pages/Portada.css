/* === 游깳 Fondo general === */
.portada {
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  background: radial-gradient(circle at center, var(--panel) 0%, var(--bg) 100%);
  overflow: hidden;
  position: relative;
  color: var(--text);
  padding-top: 15vh;
}

/* 游 Estrellas animadas */
.stars {
  position: absolute;
  top: 0;
  left: 0;
  width: 300%;
  height: 300%;
  background: radial-gradient(var(--text) 1px, transparent 2px);
  background-size: 50px 50px;
  animation: moveStars 100s linear infinite;
  opacity: 0.25;
  z-index: 0;
}

@keyframes moveStars {
  from {
    transform: translate(0, 0);
  }

  to {
    transform: translate(-50%, -50%);
  }
}

/* 游 Portal central */
.portal-container {
  position: relative;
  width: clamp(180px, 40vw, 280px);
  height: clamp(180px, 40vw, 280px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2;
}

.portal-circle {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: conic-gradient(var(--portal-color-1), var(--portal-color-2), var(--portal-color-3), var(--portal-color-4), var(--portal-color-1));
  box-shadow: 0 0 30px var(--brand-glow-med), 0 0 60px var(--brand-glow-low);
  filter: none;
  animation: swirlPortal 5s linear infinite,
    intermittentFlash 12s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes swirlPortal {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

@keyframes flashPortal {

  /* 0% - 10%: Estado de Calma Inicial */
  0%,
  10% {
    box-shadow: 0 0 20px var(--brand-glow-med), 0 0 40px var(--brand-glow-low);
    filter: brightness(1) saturate(1);
    /* Resetear filtros */
  }

  /* 50%: Pico Explosivo */
  50% {
    /* 游릭 MEJORA: Aumentar el brillo y la saturaci칩n al m치ximo */
    box-shadow: 0 0 180px var(--brand-glow-high), 0 0 300px var(--brand-main);
    filter: brightness(1.7) saturate(2.5);
    /* M치s intenso */
  }

  /* 90%: Estado de Descenso Suave */
  90% {
    /* 游릭 MEJORA: Descenso lento del halo */
    box-shadow: 0 0 60px var(--brand-glow-med), 0 0 100px var(--brand-glow-low);
    filter: brightness(1.3) saturate(1.5);
  }

  /* 100%: Vuelve a la Calma Total */
  100% {
    box-shadow: 0 0 20px var(--brand-glow-med), 0 0 40px var(--brand-glow-low);
    filter: brightness(1) saturate(1);
  }
}

/* Nuevo Keyframes para un destello m치s lento y gradual */
@keyframes intermittentFlash {

  /* 0% - 75%: Estado de Calma (Base) */
  0%,
  75% {
    /* Halo Base: Mucho m치s peque침o, menos invasivo */
    box-shadow: 0 0 8px var(--brand-glow-low);
    /* 游릭 MEJORA: Blur bajo para rendimiento */
    filter: blur(0.5px) brightness(1);
    transform: scale(1);
  }

  /* 80%: Inicio del Encendido (Ascenso gradual) */
  80% {
    /* 游릭 MEJORA: Mayor dispersi칩n en la sombra, aumento de brillo */
    box-shadow: 0 0 30px 4px var(--brand-glow-med);
    filter: blur(1px) brightness(1.1) saturate(1.2);
    transform: scale(1.005);
  }

  /* 90%: Pico M치ximo (Explosi칩n) */
  90% {
    /* 游릭 MEJORA: El pico m치s dram치tico y grande */
    box-shadow: 0 0 100px 8px var(--brand-glow-high), 0 0 160px 12px var(--brand-main);
    filter: blur(1.5px) brightness(1.2) saturate(1.5);
    /* Brillo y saturaci칩n altos en el pico */
    transform: scale(1.01);
  }

  /* 95%: Inicio del Apagado Lento (Desactivaci칩n del destello) */
  95% {
    /* 游릭 MEJORA: Baja a un estado intermedio para un apagado suave */
    box-shadow: 0 0 30px 4px var(--brand-glow-med);
    filter: blur(1px) brightness(1.1) saturate(1.2);
    transform: scale(1.005);
  }

  /* 100%: Vuelve a la Calma */
  100% {
    /* Retorna al estado base */
    box-shadow: 0 0 8px var(--brand-glow-low);
    filter: blur(0.5px) brightness(1);
    transform: scale(1);
  }
}


/* Texto dentro del portal */
.portal-text {
  font-family: "Orbitron", sans-serif;
  font-size: clamp(1.4rem, 3vw, 2.5rem);
  color: var(--text);
  text-shadow: 0 0 10px var(--brand-light), 0 0 30px var(--brand-main), 0 0 60px var(--brand-light);
  z-index: 3;
  animation: fadeInText 1s ease-out forwards 1s;
  opacity: 0;
}

@keyframes fadeInText {
  from {
    opacity: 0;
    transform: scale(0.8);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Subtexto */
.portal-subtext {
  margin-top: 1.5rem;
  font-size: clamp(0.9rem, 2vw, 1.1rem);
  color: var(--brand-main);
  text-shadow: 0 0 10px var(--brand-glow-low);
  text-align: center;
  animation: fadeInText 1s ease-out forwards 2s;
  opacity: 0;
  z-index: 3;
}

.btn-sound-theme {
  animation: fadeInText 2s ease-out forwards 2s;
}


/* 游놓 Rick & Morty */
.rick,
.morty {
  position: absolute;
  width: clamp(90px, 15vw, 160px);
  bottom: 0;
  opacity: 0;
  z-index: 2;
}

/* Rick entra, cruza y se desvanece */
.rick {
  left: -200px;
  animation: enterRick 8s ease-in-out forwards;
}

@keyframes enterRick {
  0% {
    transform: translateX(0);
    opacity: 0;
  }

  25% {
    transform: translateX(250px);
    opacity: 1;
  }

  50% {
    transform: translateX(400px) scale(1.1);
    opacity: 1;
  }

  80% {
    transform: translateX(500px) scale(0.9);
    opacity: 0.5;
  }

  100% {
    transform: translateX(600px);
    opacity: 0;
  }
}

/* Morty entra luego, cruza y desaparece */
.morty {
  right: -200px;
  animation: enterMorty 8s ease-in-out 1s forwards;
}

@keyframes enterMorty {
  0% {
    transform: translateX(0);
    opacity: 0;
  }

  25% {
    transform: translateX(-250px);
    opacity: 1;
  }

  50% {
    transform: translateX(-400px) scale(1.1);
    opacity: 1;
  }

  80% {
    transform: translateX(-500px) scale(0.9);
    opacity: 0.5;
  }

  100% {
    transform: translateX(-600px);
    opacity: 0;
  }
}

/* 游 Destello del portal cuando los personajes cruzan */
.portal-circle {
  animation: swirlPortal 5s linear infinite, pulsePortal 3s ease-in-out infinite alternate;
}



/* Aplica el destello cuando Rick y Morty est치n en escena */
.rick,
.morty {
  animation-play-state: running;
}

/* Momento exacto del flash */
.portal-circle.flash {
  animation: swirlPortal 5s linear infinite, flashPortal 2.5s ease-in-out 3s 2;
}

/* Adaptaci칩n m칩vil */
@media (max-width: 768px) {


  .portada{
    padding-top: 10vh;
    padding-bottom: 10vh;

  }

  .portal-container {
    width: 200px;
    height: 200px;
  }

  .rick,
  .morty {
    width: 100px;
  }
}